{"ast":null,"code":"import React from'react';import{tasksAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskCard=_ref=>{let{task,onUpdate,onDelete}=_ref;const getPriorityColor=priority=>{switch(priority){case'High':return'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border-red-300 dark:border-red-700';case'Medium':return'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-700';case'Low':return'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-300 dark:border-green-700';default:return'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300';}};const formatDate=dateString=>{if(!dateString)return'No due date';const date=new Date(dateString);const today=new Date();today.setHours(0,0,0,0);const taskDate=new Date(date);taskDate.setHours(0,0,0,0);if(taskDate.getTime()===today.getTime()){return'Today';}else if(taskDate.getTime()<today.getTime()){const daysDiff=Math.floor((today-taskDate)/(1000*60*60*24));return\"\".concat(daysDiff,\" day\").concat(daysDiff>1?'s':'',\" overdue\");}else{return date.toLocaleDateString('en-US',{month:'short',day:'numeric'});}};const isOverdue=()=>{if(!task.dueDate)return false;const today=new Date();today.setHours(0,0,0,0);const dueDate=new Date(task.dueDate);dueDate.setHours(0,0,0,0);return dueDate<today&&task.status==='Pending';};const handleToggleComplete=async()=>{try{const newStatus=task.status==='Completed'?'Pending':'Completed';await tasksAPI.update(task._id,{status:newStatus});onUpdate();}catch(error){console.error('Failed to update task:',error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transition-all hover:shadow-xl \".concat(task.status==='Completed'?'opacity-75':'',\" \").concat(isOverdue()?'border-l-4 border-red-500':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-start mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold \".concat(task.status==='Completed'?'line-through text-gray-500 dark:text-gray-400':'text-gray-900 dark:text-white'),children:task.title}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium border \".concat(getPriorityColor(task.priority)),children:task.priority})]}),task.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2\",children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4 text-sm\",children:[task.dueDate&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 \".concat(isOverdue()?'text-red-600 dark:text-red-400 font-medium':'text-gray-600 dark:text-gray-400'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCC5\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(task.dueDate)})]}),task.category&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-gray-600 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFF7\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:task.category})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleToggleComplete,className:\"flex-1 py-2 px-4 rounded-lg font-medium transition duration-200 \".concat(task.status==='Completed'?'bg-green-500 hover:bg-green-600 text-white':'bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300'),children:task.status==='Completed'?'‚úì Completed':'Mark Complete'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(task._id),className:\"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition duration-200\",children:\"Delete\"})]})]})});};export default TaskCard;","map":{"version":3,"names":["React","tasksAPI","jsx","_jsx","jsxs","_jsxs","TaskCard","_ref","task","onUpdate","onDelete","getPriorityColor","priority","formatDate","dateString","date","Date","today","setHours","taskDate","getTime","daysDiff","Math","floor","concat","toLocaleDateString","month","day","isOverdue","dueDate","status","handleToggleComplete","newStatus","update","_id","error","console","className","children","title","description","category","onClick"],"sources":["C:/Users/mehta/OneDrive/Pictures/Desktop/habit-tracker - Copy/frontend/src/components/Tasks/TaskCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport { tasksAPI } from '../../services/api';\r\n\r\nconst TaskCard = ({ task, onUpdate, onDelete }) => {\r\n  const getPriorityColor = (priority) => {\r\n    switch (priority) {\r\n      case 'High':\r\n        return 'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border-red-300 dark:border-red-700';\r\n      case 'Medium':\r\n        return 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-700';\r\n      case 'Low':\r\n        return 'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-300 dark:border-green-700';\r\n      default:\r\n        return 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'No due date';\r\n    const date = new Date(dateString);\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    const taskDate = new Date(date);\r\n    taskDate.setHours(0, 0, 0, 0);\r\n    \r\n    if (taskDate.getTime() === today.getTime()) {\r\n      return 'Today';\r\n    } else if (taskDate.getTime() < today.getTime()) {\r\n      const daysDiff = Math.floor((today - taskDate) / (1000 * 60 * 60 * 24));\r\n      return `${daysDiff} day${daysDiff > 1 ? 's' : ''} overdue`;\r\n    } else {\r\n      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  const isOverdue = () => {\r\n    if (!task.dueDate) return false;\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    const dueDate = new Date(task.dueDate);\r\n    dueDate.setHours(0, 0, 0, 0);\r\n    return dueDate < today && task.status === 'Pending';\r\n  };\r\n\r\n  const handleToggleComplete = async () => {\r\n    try {\r\n      const newStatus = task.status === 'Completed' ? 'Pending' : 'Completed';\r\n      await tasksAPI.update(task._id, { status: newStatus });\r\n      onUpdate();\r\n    } catch (error) {\r\n      console.error('Failed to update task:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transition-all hover:shadow-xl ${\r\n      task.status === 'Completed' ? 'opacity-75' : ''\r\n    } ${isOverdue() ? 'border-l-4 border-red-500' : ''}`}>\r\n      <div className=\"p-6\">\r\n        <div className=\"flex justify-between items-start mb-4\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex items-center gap-3 mb-2\">\r\n              <h3 className={`text-lg font-semibold ${\r\n                task.status === 'Completed' \r\n                  ? 'line-through text-gray-500 dark:text-gray-400' \r\n                  : 'text-gray-900 dark:text-white'\r\n              }`}>\r\n                {task.title}\r\n              </h3>\r\n              <span className={`px-2 py-1 rounded-full text-xs font-medium border ${getPriorityColor(task.priority)}`}>\r\n                {task.priority}\r\n              </span>\r\n            </div>\r\n            \r\n            {task.description && (\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2\">\r\n                {task.description}\r\n              </p>\r\n            )}\r\n\r\n            <div className=\"flex flex-wrap items-center gap-4 text-sm\">\r\n              {task.dueDate && (\r\n                <div className={`flex items-center gap-1 ${\r\n                  isOverdue() ? 'text-red-600 dark:text-red-400 font-medium' : 'text-gray-600 dark:text-gray-400'\r\n                }`}>\r\n                  <span>üìÖ</span>\r\n                  <span>{formatDate(task.dueDate)}</span>\r\n                </div>\r\n              )}\r\n              {task.category && (\r\n                <div className=\"flex items-center gap-1 text-gray-600 dark:text-gray-400\">\r\n                  <span>üè∑Ô∏è</span>\r\n                  <span>{task.category}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2 mt-4\">\r\n          <button\r\n            onClick={handleToggleComplete}\r\n            className={`flex-1 py-2 px-4 rounded-lg font-medium transition duration-200 ${\r\n              task.status === 'Completed'\r\n                ? 'bg-green-500 hover:bg-green-600 text-white'\r\n                : 'bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300'\r\n            }`}\r\n          >\r\n            {task.status === 'Completed' ? '‚úì Completed' : 'Mark Complete'}\r\n          </button>\r\n          <button\r\n            onClick={() => onDelete(task._id)}\r\n            className=\"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition duration-200\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskCard;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
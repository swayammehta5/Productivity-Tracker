{"ast":null,"code":"import React,{useState}from'react';import{calendarAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CalendarSync=()=>{const[connected,setConnected]=useState(false);const[syncing,setSyncing]=useState(false);const handleConnect=async()=>{try{const res=await calendarAPI.getAuthUrl();window.location.href=res.data.url;}catch(error){console.error('Failed to get auth URL:',error);alert('Failed to connect to Google Calendar');}};const handleSync=async()=>{try{setSyncing(true);await calendarAPI.sync();alert('Tasks synced to Google Calendar successfully!');}catch(error){console.error('Failed to sync:',error);alert('Failed to sync tasks. Make sure you are connected to Google Calendar.');}finally{setSyncing(false);}};const handleDisconnect=async()=>{try{await calendarAPI.disconnect();setConnected(false);alert('Disconnected from Google Calendar');}catch(error){console.error('Failed to disconnect:',error);alert('Failed to disconnect');}};// Check if connected (you would check this from user profile)\n// For now, we'll show the connect button\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mb-8\",children:\"\\uD83D\\uDCC5 Google Calendar Sync\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-6\",children:\"Sync your tasks and deadlines directly to your Google Calendar. This allows you to see your tasks alongside your other calendar events.\"}),!connected?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleConnect,className:\"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition\",children:\"Connect Google Calendar\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-500 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-green-700 dark:text-green-300\",children:\"\\u2713 Connected to Google Calendar\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSync,disabled:syncing,className:\"w-full px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition disabled:opacity-50\",children:syncing?'Syncing...':'Sync Tasks Now'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDisconnect,className:\"w-full px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition\",children:\"Disconnect\"})]})]})]});};export default CalendarSync;","map":{"version":3,"names":["React","useState","calendarAPI","jsx","_jsx","jsxs","_jsxs","CalendarSync","connected","setConnected","syncing","setSyncing","handleConnect","res","getAuthUrl","window","location","href","data","url","error","console","alert","handleSync","sync","handleDisconnect","disconnect","className","children","onClick","disabled"],"sources":["C:/Users/mehta/OneDrive/Pictures/Desktop/habit-tracker - Copy/frontend/src/components/Calendar/CalendarSync.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { calendarAPI } from '../../services/api';\r\n\r\nconst CalendarSync = () => {\r\n  const [connected, setConnected] = useState(false);\r\n  const [syncing, setSyncing] = useState(false);\r\n\r\n  const handleConnect = async () => {\r\n    try {\r\n      const res = await calendarAPI.getAuthUrl();\r\n      window.location.href = res.data.url;\r\n    } catch (error) {\r\n      console.error('Failed to get auth URL:', error);\r\n      alert('Failed to connect to Google Calendar');\r\n    }\r\n  };\r\n\r\n  const handleSync = async () => {\r\n    try {\r\n      setSyncing(true);\r\n      await calendarAPI.sync();\r\n      alert('Tasks synced to Google Calendar successfully!');\r\n    } catch (error) {\r\n      console.error('Failed to sync:', error);\r\n      alert('Failed to sync tasks. Make sure you are connected to Google Calendar.');\r\n    } finally {\r\n      setSyncing(false);\r\n    }\r\n  };\r\n\r\n  const handleDisconnect = async () => {\r\n    try {\r\n      await calendarAPI.disconnect();\r\n      setConnected(false);\r\n      alert('Disconnected from Google Calendar');\r\n    } catch (error) {\r\n      console.error('Failed to disconnect:', error);\r\n      alert('Failed to disconnect');\r\n    }\r\n  };\r\n\r\n  // Check if connected (you would check this from user profile)\r\n  // For now, we'll show the connect button\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-8\">\r\n        ðŸ“… Google Calendar Sync\r\n      </h1>\r\n\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\">\r\n        <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\r\n          Sync your tasks and deadlines directly to your Google Calendar. This allows you to see\r\n          your tasks alongside your other calendar events.\r\n        </p>\r\n\r\n        {!connected ? (\r\n          <div>\r\n            <button\r\n              onClick={handleConnect}\r\n              className=\"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition\"\r\n            >\r\n              Connect Google Calendar\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-500 rounded-lg\">\r\n              <p className=\"text-green-700 dark:text-green-300\">\r\n                âœ“ Connected to Google Calendar\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={handleSync}\r\n              disabled={syncing}\r\n              className=\"w-full px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition disabled:opacity-50\"\r\n            >\r\n              {syncing ? 'Syncing...' : 'Sync Tasks Now'}\r\n            </button>\r\n            <button\r\n              onClick={handleDisconnect}\r\n              className=\"w-full px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition\"\r\n            >\r\n              Disconnect\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CalendarSync;\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAW,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAX,WAAW,CAACY,UAAU,CAAC,CAAC,CAC1CC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGJ,GAAG,CAACK,IAAI,CAACC,GAAG,CACrC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CE,KAAK,CAAC,sCAAsC,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFZ,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAT,WAAW,CAACsB,IAAI,CAAC,CAAC,CACxBF,KAAK,CAAC,+CAA+C,CAAC,CACxD,CAAE,MAAOF,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC,CACvCE,KAAK,CAAC,uEAAuE,CAAC,CAChF,CAAC,OAAS,CACRX,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAc,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAvB,WAAW,CAACwB,UAAU,CAAC,CAAC,CAC9BjB,YAAY,CAAC,KAAK,CAAC,CACnBa,KAAK,CAAC,mCAAmC,CAAC,CAC5C,CAAE,MAAOF,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CE,KAAK,CAAC,sBAAsB,CAAC,CAC/B,CACF,CAAC,CAED;AACA;AAEA,mBACEhB,KAAA,QAAKqB,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAC1DxB,IAAA,OAAIuB,SAAS,CAAC,uDAAuD,CAAAC,QAAA,CAAC,mCAEtE,CAAI,CAAC,cAELtB,KAAA,QAAKqB,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACjExB,IAAA,MAAGuB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,yIAGrD,CAAG,CAAC,CAEH,CAACpB,SAAS,cACTJ,IAAA,QAAAwB,QAAA,cACExB,IAAA,WACEyB,OAAO,CAAEjB,aAAc,CACvBe,SAAS,CAAC,6FAA6F,CAAAC,QAAA,CACxG,yBAED,CAAQ,CAAC,CACN,CAAC,cAENtB,KAAA,QAAKqB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxB,IAAA,QAAKuB,SAAS,CAAC,yEAAyE,CAAAC,QAAA,cACtFxB,IAAA,MAAGuB,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,qCAElD,CAAG,CAAC,CACD,CAAC,cACNxB,IAAA,WACEyB,OAAO,CAAEN,UAAW,CACpBO,QAAQ,CAAEpB,OAAQ,CAClBiB,SAAS,CAAC,mHAAmH,CAAAC,QAAA,CAE5HlB,OAAO,CAAG,YAAY,CAAG,gBAAgB,CACpC,CAAC,cACTN,IAAA,WACEyB,OAAO,CAAEJ,gBAAiB,CAC1BE,SAAS,CAAC,2FAA2F,CAAAC,QAAA,CACtG,YAED,CAAQ,CAAC,EACN,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
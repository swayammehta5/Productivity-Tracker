{"ast":null,"code":"import React,{useState,useEffect}from'react';import{templatesAPI}from'../../services/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HabitTemplates=()=>{const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{loadTemplates();},[]);const loadTemplates=async()=>{try{const res=await templatesAPI.getAll();if(res.data&&Array.isArray(res.data)){setTemplates(res.data);}else{setTemplates([]);}}catch(error){console.error('Failed to load templates:',error);setTemplates([]);}finally{setLoading(false);}};const handleInitialize=async()=>{try{await templatesAPI.initialize();alert('Templates initialized successfully!');loadTemplates();}catch(error){console.error('Failed to initialize templates:',error);alert('Failed to initialize templates');}};const handleApply=async templateId=>{try{await templatesAPI.apply(templateId);alert('Template applied successfully!');navigate('/habits');}catch(error){console.error('Failed to apply template:',error);alert('Failed to apply template');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl text-gray-600 dark:text-gray-400\",children:\"Loading templates...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white\",children:\"\\uD83E\\uDE84 Habit Templates\"}),templates.length===0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleInitialize,className:\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition\",children:\"Initialize Templates\"})]}),templates.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:\"No templates available. Click \\\"Initialize Templates\\\" to create default templates.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleInitialize,className:\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition\",children:\"Initialize Templates\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-2\",children:template.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:template.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mb-2\",children:[\"Includes \",template.habits.length,\" habits:\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside text-sm text-gray-700 dark:text-gray-300 space-y-1\",children:[template.habits.slice(0,3).map((habit,index)=>/*#__PURE__*/_jsx(\"li\",{children:habit.name},index)),template.habits.length>3&&/*#__PURE__*/_jsxs(\"li\",{children:[\"... and \",template.habits.length-3,\" more\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApply(template._id),className:\"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition\",children:\"Apply Template\"})]},template._id))})]});};export default HabitTemplates;","map":{"version":3,"names":["React","useState","useEffect","templatesAPI","useNavigate","jsx","_jsx","jsxs","_jsxs","HabitTemplates","templates","setTemplates","loading","setLoading","navigate","loadTemplates","res","getAll","data","Array","isArray","error","console","handleInitialize","initialize","alert","handleApply","templateId","apply","className","children","length","onClick","map","template","name","description","habits","slice","habit","index","_id"],"sources":["C:/Users/mehta/OneDrive/Pictures/Desktop/habit-tracker - Copy/frontend/src/components/Templates/HabitTemplates.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { templatesAPI } from '../../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst HabitTemplates = () => {\r\n  const [templates, setTemplates] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    loadTemplates();\r\n  }, []);\r\n\r\n  const loadTemplates = async () => {\r\n    try {\r\n      const res = await templatesAPI.getAll();\r\n      if (res.data && Array.isArray(res.data)) {\r\n        setTemplates(res.data);\r\n      } else {\r\n        setTemplates([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load templates:', error);\r\n      setTemplates([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInitialize = async () => {\r\n    try {\r\n      await templatesAPI.initialize();\r\n      alert('Templates initialized successfully!');\r\n      loadTemplates();\r\n    } catch (error) {\r\n      console.error('Failed to initialize templates:', error);\r\n      alert('Failed to initialize templates');\r\n    }\r\n  };\r\n\r\n  const handleApply = async (templateId) => {\r\n    try {\r\n      await templatesAPI.apply(templateId);\r\n      alert('Template applied successfully!');\r\n      navigate('/habits');\r\n    } catch (error) {\r\n      console.error('Failed to apply template:', error);\r\n      alert('Failed to apply template');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"text-xl text-gray-600 dark:text-gray-400\">Loading templates...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\r\n          ðŸª„ Habit Templates\r\n        </h1>\r\n        {templates.length === 0 && (\r\n          <button\r\n            onClick={handleInitialize}\r\n            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition\"\r\n          >\r\n            Initialize Templates\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {templates.length === 0 ? (\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12 text-center\">\r\n          <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n            No templates available. Click \"Initialize Templates\" to create default templates.\r\n          </p>\r\n          <button\r\n            onClick={handleInitialize}\r\n            className=\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition\"\r\n          >\r\n            Initialize Templates\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {templates.map((template) => (\r\n          <div\r\n            key={template._id}\r\n            className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\"\r\n          >\r\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\r\n              {template.name}\r\n            </h2>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n              {template.description}\r\n            </p>\r\n            <div className=\"mb-4\">\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\r\n                Includes {template.habits.length} habits:\r\n              </p>\r\n              <ul className=\"list-disc list-inside text-sm text-gray-700 dark:text-gray-300 space-y-1\">\r\n                {template.habits.slice(0, 3).map((habit, index) => (\r\n                  <li key={index}>{habit.name}</li>\r\n                ))}\r\n                {template.habits.length > 3 && (\r\n                  <li>... and {template.habits.length - 3} more</li>\r\n                )}\r\n              </ul>\r\n            </div>\r\n            <button\r\n              onClick={() => handleApply(template._id)}\r\n              className=\"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition\"\r\n            >\r\n              Apply Template\r\n            </button>\r\n          </div>\r\n        ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HabitTemplates;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}